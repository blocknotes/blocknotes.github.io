{"version":3,"sources":["js/beautifuljekyll.js","js/utils.js","js/main.js"],"names":["BeautifulJekyllJS","bigImgEl","numImgs","init","setTimeout","initNavbar","$","window","scroll","offset","top","addClass","removeClass","on","initImgs","rgb","css","replace","split","Math","round","parseInt","length","attr","imgInfo","getImgInfo","src","desc","setImg","getNextImg","Image","img","prepend","remove","randNum","floor","random","undefined","text","show","hide","document","addEventListener","main","updateExternalLinks","adImprovements","click","cookie","some","item","trim","indexOf","querySelector","offsetHeight","require"],"mappings":"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","file":"main.50342949.js","sourceRoot":"../src","sourcesContent":["// Dean Attali / Beautiful Jekyll 2020\n\nvar BeautifulJekyllJS = {\n\n  bigImgEl : null,\n  numImgs : null,\n\n  init : function() {\n    setTimeout(BeautifulJekyllJS.initNavbar, 10);\n\n    // Shorten the navbar after scrolling a little bit down\n    $(window).scroll(function() {\n        if ($(\".navbar\").offset().top > 50) {\n            $(\".navbar\").addClass(\"top-nav-short\");\n        } else {\n            $(\".navbar\").removeClass(\"top-nav-short\");\n        }\n    });\n\n    // On mobile, hide the avatar when expanding the navbar menu\n    $('#main-navbar').on('show.bs.collapse', function () {\n      $(\".navbar\").addClass(\"top-nav-expanded\");\n    });\n    $('#main-navbar').on('hidden.bs.collapse', function () {\n      $(\".navbar\").removeClass(\"top-nav-expanded\");\n    });\n\n    // show the big header image\n    BeautifulJekyllJS.initImgs();\n  },\n\n  initNavbar : function() {\n    // Set the navbar-dark/light class based on its background color\n    const rgb = $('.navbar').css(\"background-color\").replace(/[^\\d,]/g,'').split(\",\");\n    const brightness = Math.round(( // http://www.w3.org/TR/AERT#color-contrast\n      parseInt(rgb[0]) * 299 +\n      parseInt(rgb[1]) * 587 +\n      parseInt(rgb[2]) * 114\n    ) / 1000);\n    if (brightness <= 125) {\n      $(\".navbar\").removeClass(\"navbar-light\").addClass(\"navbar-dark\");\n    } else {\n      $(\".navbar\").removeClass(\"navbar-dark\").addClass(\"navbar-light\");\n    }\n  },\n\n  initImgs : function() {\n    // If the page was large images to randomly select from, choose an image\n    if ($(\"#header-big-imgs\").length > 0) {\n      BeautifulJekyllJS.bigImgEl = $(\"#header-big-imgs\");\n      BeautifulJekyllJS.numImgs = BeautifulJekyllJS.bigImgEl.attr(\"data-num-img\");\n\n      // 2fc73a3a967e97599c9763d05e564189\n      // set an initial image\n      var imgInfo = BeautifulJekyllJS.getImgInfo();\n      var src = imgInfo.src;\n      var desc = imgInfo.desc;\n      BeautifulJekyllJS.setImg(src, desc);\n\n      // For better UX, prefetch the next image so that it will already be loaded when we want to show it\n      var getNextImg = function() {\n        var imgInfo = BeautifulJekyllJS.getImgInfo();\n        var src = imgInfo.src;\n        var desc = imgInfo.desc;\n\n        var prefetchImg = new Image();\n        prefetchImg.src = src;\n        // if I want to do something once the image is ready: `prefetchImg.onload = function(){}`\n\n        setTimeout(function(){\n          var img = $(\"<div></div>\").addClass(\"big-img-transition\").css(\"background-image\", 'url(' + src + ')');\n          $(\".intro-header.big-img\").prepend(img);\n          setTimeout(function(){ img.css(\"opacity\", \"1\"); }, 50);\n\n          // after the animation of fading in the new image is done, prefetch the next one\n          //img.one(\"transitioned webkitTransitionEnd oTransitionEnd MSTransitionEnd\", function(){\n          setTimeout(function() {\n            BeautifulJekyllJS.setImg(src, desc);\n            img.remove();\n            getNextImg();\n          }, 1000);\n          //});\n        }, 6000);\n      };\n\n      // If there are multiple images, cycle through them\n      if (BeautifulJekyllJS.numImgs > 1) {\n        getNextImg();\n      }\n    }\n  },\n\n  getImgInfo : function() {\n    var randNum = Math.floor((Math.random() * BeautifulJekyllJS.numImgs) + 1);\n    var src = BeautifulJekyllJS.bigImgEl.attr(\"data-img-src-\" + randNum);\n    var desc = BeautifulJekyllJS.bigImgEl.attr(\"data-img-desc-\" + randNum);\n\n    return {\n      src : src,\n      desc : desc\n    }\n  },\n\n  setImg : function(src, desc) {\n    $(\".intro-header.big-img\").css(\"background-image\", 'url(' + src + ')');\n    if (typeof desc !== typeof undefined && desc !== false) {\n      $(\".img-desc\").text(desc).show();\n    } else {\n      $(\".img-desc\").hide();\n    }\n  }\n};\n\n// 2fc73a3a967e97599c9763d05e564189\n\ndocument.addEventListener('DOMContentLoaded', BeautifulJekyllJS.init);\n","var main = {\n\n  init: function () {\n    main.updateExternalLinks();\n    main.adImprovements();\n  },\n\n  // ----------------------------------------------------------------------- //\n\n  adImprovements: function () {\n    $('#adsense > .btn-close').click(function() {\n      document.cookie = '_ad_closed=1;secure;samesite;max-age=2592000'; // 1 month\n      $('#adsense').hide();\n    });\n    var cookies = document.cookie.split(';');\n    if(cookies.some(function(item) {\n      if(item.trim().indexOf('_ad_closed=') == 0) {\n        $('#adsense').hide();\n      }\n    }));\n\n    window.setTimeout(function() {\n      if(document.querySelector('#adsense').offsetHeight == 0) $('body').css('marginBottom', 0);\n    }, 200);\n  },\n\n  updateExternalLinks: function () {\n    $('a[href^=\"https://rubygems.org\"]').attr('target', '_blank');\n    $('a[href^=\"https://github.com\"]').attr('target', '_blank');\n    $('a[href^=\"https://www.npmjs.com\"]').attr('target', '_blank');\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', main.init);\n","require('./beautifuljekyll')\nrequire('./utils')\n"]}